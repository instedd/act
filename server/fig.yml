pgdata:
  image:       debian:wheezy
  volumes:     ["/var/lib/postgresql/data"]

pg:
  image:       postgres:9.3.5
  volumes:     ["pgdata"]

syncdata:
  image:       debian:wheezy
  volumes:     ["/act/sync"]

sshdata:
  image:       debian:wheezy
  volumes:     ["/etc/ssh"]

elasticdata:
  image:       debian:wheezy
  volumes:     ["/data"]

elasticnndd:
  image:       dockerfile/elasticsearch
  volumes_from:
    - elasticdata
redis:
  image:       redis

act:
  image:       instedd/act

  volumes_from:
    - sshdata
    - syncdata

  ports:
    - "8000:80"
    - "2222:22"
    - "5678:5678"

  links: ["pg:act_postgres", "elasticnndd:actelastic", "redis:act_redis"]

  environment:
    - ACT_APP_DIR
    - ACT_DATABASE_HOST
    - ACT_DATABASE_PASSWORD
    - ACT_DATABASE_PORT
    - ACT_DATABASE_USERNAME
    - ACT_REDIS_HOST
    - ACT_REDIS_PORT
    - SECRET_KEY_BASE
    - ACT_SMTP_SERVER
    - ACT_SMTP_USER
    - ACT_SMTP_PASS
    - ACT_SUPPORT_CONTACT